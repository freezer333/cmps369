<!doctype html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Scott Frees</title>

<style type='text/css'>
  *{margin:0;padding:0;}
  body {
    font:13.34px helvetica,arial,freesans,clean,sans-serif;
    color:black;
    line-height:1.4em;
    background-color: #F8F8F8;
    padding: 0.7em;
  }
  p {
    margin:1em 0;
    line-height:1.5em;
  }
  table {
    font-size:inherit;
    font:100%;
    margin-top:1em;
    margin-bottom:1em;
  }
  table th{border-bottom:1px solid #bbb;padding:.2em 1em;}
  table td{border-bottom:1px solid #ddd;padding:.2em 1em;}
  input[type=text],input[type=password],input[type=image],textarea{font:99% helvetica,arial,freesans,sans-serif;}
  select,option{padding:0 .25em;}
  optgroup{margin-top:.5em;}
  pre,code{font:12px Monaco,"Courier New","DejaVu Sans Mono","Bitstream Vera Sans Mono",monospace;}
  pre {
    margin:1em 0;
    font-size:12px;
    background-color:#eee;
    border:1px solid #ddd;
    padding:5px;
    line-height:1.5em;
    color:#444;
    overflow:auto;
    -webkit-box-shadow:rgba(0,0,0,0.07) 0 1px 2px inset;
    -webkit-border-radius:3px;
    -moz-border-radius:3px;border-radius:3px;
  }
  pre code {
    padding:0;
    font-size:12px;
    background-color:#eee;
    border:none;
  }
  code {
    font-size:12px;
    background-color:#f8f8ff;
    color:#444;
    padding:0 .2em;
    border:1px solid #dedede;
  }
  img{border:0;max-width:100%;}
  abbr{border-bottom:none;}
  a{color:#4183c4;text-decoration:none;}
  a:hover{text-decoration:underline;}
  a code,a:link code,a:visited code{color:#4183c4;}
  h2,h3{margin:1em 0;}
  h1,h2,h3,h4,h5,h6{border:0;}
  h1{font-size:170%;border-top:4px solid #aaa;padding-top:.5em;margin-top:1.5em;}
  h1:first-child{margin-top:0;padding-top:.25em;border-top:none;}
  h2{font-size:150%;margin-top:1.5em;border-top:4px solid #e0e0e0;padding-top:.5em;}
  h3{margin-top:1em;}
  hr{border:1px solid #ddd;}
  ul{margin:1em 0 1em 2em;}
  ol{margin:1em 0 1em 2em;}
  ul li,ol li{margin-top:.5em;margin-bottom:.5em;}
  ul ul,ul ol,ol ol,ol ul{margin-top:0;margin-bottom:0;}
  blockquote{margin:1em 0;border-left:5px solid #ddd;padding-left:.6em;color:#555;}
  dt{font-weight:bold;margin-left:1em;}
  dd{margin-left:2em;margin-bottom:1em;}
  sup {
      font-size: 0.83em;
      vertical-align: super;
      line-height: 0;
  }
  * {
    -webkit-print-color-adjust: exact;
  }

  .highlight {
    background-color:#f1c40f;
    padding-bottom:1em;
    padding-right:1em;
    padding-left:1em;
    font-weight:bold;
  }
  @media screen and (min-width: 914px) {
      body {
          width: 854px;
          margin:0 auto;
      }
  }
  @media print {
    table, pre {
      page-break-inside: avoid;
    }
    pre {
      word-wrap: break-word;
    }
    .print-page {page-break-after: always;}
    body {
      background-color: white
    }
  }


</style>

</head>
<h1 id="ejs">EJS</h1>
<p>Embedded JavaScript templates</p>
<p><a href="https://travis-ci.org/mde/ejs"><img src="https://img.shields.io/travis/mde/ejs/master.svg?style=flat" alt="Build Status"></a><br><a href="https://david-dm.org/mde/ejs#info=devDependencies"><img src="https://img.shields.io/david/dev/mde/ejs.svg?style=flat" alt="Developing Dependencies"></a></p>
<h2 id="installation">Installation</h2>
<pre><code class="lang-bash">$ npm install ejs
</code></pre>
<h2 id="features">Features</h2>
<ul>
<li>Control flow with <code>&lt;% %&gt;</code></li>
<li>Escaped output with <code>&lt;%= %&gt;</code></li>
<li>Unescaped raw output with <code>&lt;%- %&gt;</code></li>
<li>Trim-mode (&#39;newline slurping&#39;) with <code>-%&gt;</code> ending tag</li>
<li>Custom delimiters (e.g., use &#39;&lt;? ?&gt;&#39; instead of &#39;&lt;% %&gt;&#39;)</li>
<li>Includes</li>
<li>Client-side support</li>
<li>Static caching of intermediate JavaScript</li>
<li>Static caching of templates</li>
<li>Complies with the <a href="http://expressjs.com">Express</a> view system</li>
</ul>
<h2 id="example">Example</h2>
<pre><code class="lang-html">&lt;% if (user) { %&gt;
  &lt;h2&gt;&lt;%= user.name %&gt;&lt;/h2&gt;
&lt;% } %&gt;
</code></pre>
<h2 id="usage">Usage</h2>
<pre><code class="lang-javascript">var template = ejs.compile(str, options);
template(data);
// =&gt; Rendered HTML string

ejs.render(str, data, options);
// =&gt; Rendered HTML string
</code></pre>
<p>You can also use the shortcut <code>ejs.render(dataAndOptions);</code> where you pass<br>everything in a single object. In that case, you&#39;ll end up with local variables<br>for all the passed options.</p>
<h2 id="options">Options</h2>
<ul>
<li><code>cache</code>           Compiled functions are cached, requires <code>filename</code></li>
<li><code>filename</code>        Used by <code>cache</code> to key caches, and for includes</li>
<li><code>context</code>         Function execution context</li>
<li><code>compileDebug</code>    When <code>false</code> no debug instrumentation is compiled</li>
<li><code>client</code>          Returns standalone compiled function</li>
<li><code>delimiter</code>       Character to use with angle brackets for open/close</li>
<li><code>debug</code>           Output generated function body</li>
<li><code>_with</code>           Whether or not to use <code>with() {}</code> constructs. If <code>false</code> then the locals will be stored in the <code>locals</code> object.</li>
<li><code>rmWhitespace</code>    Remove all safe-to-remove whitespace, including leading<br>and trailing whitespace. It also enables a safer version of <code>-%&gt;</code> line<br>slurping for all scriptlet tags (it does not strip new lines of tags in<br>the middle of a line).</li>
</ul>
<h2 id="tags">Tags</h2>
<ul>
<li><code>&lt;%</code>              &#39;Scriptlet&#39; tag, for control-flow, no output</li>
<li><code>&lt;%=</code>             Outputs the value into the template (HTML escaped)</li>
<li><code>&lt;%-</code>             Outputs the unescaped value into the template</li>
<li><code>&lt;%#</code>             Comment tag, no execution, no output</li>
<li><code>&lt;%%</code>             Outputs a literal &#39;&lt;%&#39;</li>
<li><code>%&gt;</code>              Plain ending tag</li>
<li><code>-%&gt;</code>             Trim-mode (&#39;newline slurp&#39;) tag, trims following newline</li>
</ul>
<h2 id="includes">Includes</h2>
<p>Includes either have to be an absolute path, or, if not, are assumed as<br>relative to the template with the <code>include</code> call. (This requires the<br><code>filename</code> option.) For example if you are including <code>./views/user/show.ejs</code><br>from <code>./views/users.ejs</code> you would use <code>&lt;%- include(&#39;user/show&#39;) %&gt;</code>.</p>
<p>You&#39;ll likely want to use the raw output tag (<code>&lt;%-</code>) with your include to avoid<br>double-escaping the HTML output.</p>
<pre><code class="lang-html">&lt;ul&gt;
  &lt;% users.forEach(function(user){ %&gt;
    &lt;%- include(&#39;user/show&#39;, {user: user}) %&gt;
  &lt;% }); %&gt;
&lt;/ul&gt;
</code></pre>
<p>Includes are inserted at runtime, so you can use variables for the path in the<br><code>include</code> call (for example <code>&lt;%- include(somePath) %&gt;</code>). Variables in your<br>top-level data object are available to all your includes, but local variables<br>need to be passed down.</p>
<p>NOTE: Include preprocessor directives (<code>&lt;% include user/show %&gt;</code>) are<br>still supported.</p>
<h2 id="custom-delimiters">Custom delimiters</h2>
<p>Custom delimiters can be applied on a per-template basis, or globally:</p>
<pre><code class="lang-javascript">var ejs = require(&#39;ejs&#39;),
    users = [&#39;geddy&#39;, &#39;neil&#39;, &#39;alex&#39;];

// Just one template
ejs.render(&#39;&lt;?= users.join(&quot; | &quot;); ?&gt;&#39;, {users: users}, {delimiter: &#39;?&#39;});
// =&gt; &#39;geddy | neil | alex&#39;

// Or globally
ejs.delimiter = &#39;$&#39;;
ejs.render(&#39;&lt;$= users.join(&quot; | &quot;); $&gt;&#39;, {users: users});
// =&gt; &#39;geddy | neil | alex&#39;
</code></pre>
<h2 id="caching">Caching</h2>
<p>EJS ships with a basic in-process cache for caching the intermediate JavaScript<br>functions used to render templates. It&#39;s easy to plug in LRU caching using<br>Node&#39;s <code>lru-cache</code> library:</p>
<pre><code class="lang-javascript">var ejs = require(&#39;ejs&#39;)
  , LRU = require(&#39;lru-cache&#39;);
ejs.cache = LRU(100); // LRU cache with 100-item limit
</code></pre>
<p>If you want to clear the EJS cache, call <code>ejs.clearCache</code>. If you&#39;re using the<br>LRU cache and need a different limit, simple reset <code>ejs.cache</code> to a new instance<br>of the LRU.</p>
<h2 id="layouts">Layouts</h2>
<p>EJS does not specifically support blocks, but layouts can be implemented by<br>including headers and footers, like so:</p>
<pre><code class="lang-html">&lt;%- include(&#39;header&#39;) -%&gt;
&lt;h1&gt;
  Title
&lt;/h1&gt;
&lt;p&gt;
  My page
&lt;/p&gt;
&lt;%- include(&#39;footer&#39;) -%&gt;
</code></pre>
<h2 id="client-side-support">Client-side support</h2>
<p>Go to the <a href="https://github.com/mde/ejs/releases/latest">Latest Release</a>, download<br><code>./ejs.js</code> or <code>./ejs.min.js</code>.</p>
<p>Include one of these on your page, and <code>ejs.render(str)</code>.</p>
<h2 id="related-projects">Related projects</h2>
<p>There are a number of implementations of EJS:</p>
<ul>
<li>TJ&#39;s implementation, the v1 of this library: <a href="https://github.com/tj/ejs">https://github.com/tj/ejs</a></li>
<li>Jupiter Consulting&#39;s EJS: <a href="http://www.embeddedjs.com/">http://www.embeddedjs.com/</a></li>
<li>EJS Embedded JavaScript Framework on Google Code: <a href="https://code.google.com/p/embeddedjavascript/">https://code.google.com/p/embeddedjavascript/</a></li>
<li>Sam Stephenson&#39;s Ruby implementation: <a href="https://rubygems.org/gems/ejs">https://rubygems.org/gems/ejs</a></li>
<li>Erubis, an ERB implementation which also runs JavaScript: <a href="http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript">http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript</a></li>
</ul>
<h2 id="license">License</h2>
<p>Licensed under the Apache License, Version 2.0<br>(<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</p>
<hr>
<p>EJS Embedded JavaScript templates copyright 2112<br>mde@fleegix.org.</p>
</html>